(this["webpackJsonpplanktonics-chat"]=this["webpackJsonpplanktonics-chat"]||[]).push([[0],{126:function(e,t,a){e.exports={messages:"Messages_messages__G_j7f"}},137:function(e,t,a){},138:function(e,t,a){},216:function(e,t,a){"use strict";a.r(t);var s=a(0),n=a.n(s),c=a(28),r=a.n(c),i=(a(136),a(137),a(14)),u=(a(138),a(18)),j=function(e){return e.businessChat.messages},o=a(52),_=a(224),d=a(225),h=a(226),b=a(97),m=a(54),l=a.n(m),O=function(e){return e.auth.userName},g=function(e){return e.auth.userId},f=function(e){return e.auth.isAuth},x=a(121),p=a.n(x),v=a(2),N=function(e){var t=e.message,a=e.deleteMessage,n=e.editMessage,c=Object(u.c)(g),r=Object(s.useState)(t.message),i=Object(o.a)(r,2),j=i[0],m=i[1],O=Object(s.useState)(!1),f=Object(o.a)(O,2),x=f[0],N=f[1],M={hours:t.date.getHours(),minutes:t.date.getMinutes()<10?"0"+t.date.getMinutes():t.date.getMinutes()};return Object(v.jsxs)("div",{className:l.a.message,children:[Object(v.jsxs)(_.a,{children:[Object(v.jsx)(d.a,{flex:1,className:l.a.message__username,children:Object(v.jsxs)(h.b,{wrap:!0,children:[t.userName,c===t.userId&&Object(v.jsxs)(h.b,{wrap:!0,children:[Object(v.jsx)(b.a,{size:"small",onClick:function(){a(t.id)},children:"delete"}),!x&&Object(v.jsx)(b.a,{size:"small",onClick:function(){N(!0)},children:"edit"})]})]})}),Object(v.jsxs)(d.a,{flex:1,className:l.a.message__time,children:[M.hours,":",M.minutes]})]}),Object(v.jsxs)(_.a,{className:l.a.message__text,children:[!x&&t.message,x&&Object(v.jsxs)("div",{className:l.a.message__edit,children:[Object(v.jsx)(p.a,{className:l.a.message__textarea,autoSize:!0,value:j,onChange:function(e){return m(e.target.value)}}),Object(v.jsx)(b.a,{size:"small",onClick:function(){N(!1),j.length>0&&n(j,t.id)},children:"Submit"})]})]})]})},M=a(126),E=a.n(M),w=function(e){var t=e.messages,a=e.deleteMessage,n=e.editMessage,c=t.map((function(e){return Object(v.jsx)(N,{message:e,deleteMessage:a,editMessage:n},e.id)})),r=Object(s.useRef)(null),i=Object(s.useState)(!0),u=Object(o.a)(i,2),j=u[0],_=u[1];return Object(s.useEffect)((function(){var e;j&&(null===(e=r.current)||void 0===e||e.scrollIntoView({behavior:"smooth"}))}),[t]),Object(v.jsxs)("div",{className:E.a.messages,onScroll:function(e){var t=e.currentTarget;Math.abs(t.scrollHeight-t.scrollTop-t.clientHeight)>100?j&&_(!1):!j&&_(!0)},children:[c,Object(v.jsx)("div",{ref:r})]})},D=a(46),S=a(227),I=a(220),C=a(84),A=a.n(C),k=function(e){var t=e.sendMessage;return Object(v.jsx)("div",{children:Object(v.jsx)(D.d,{initialValues:{msg:""},validate:function(e){var t={};return e.msg||(t.msg="Required"),t},onSubmit:t,children:function(e){var t=e.errors;return Object(v.jsx)(D.c,{className:A.a.form,children:Object(v.jsxs)(_.a,{children:[Object(v.jsx)(d.a,{flex:1,children:Object(v.jsx)("div",{className:A.a.form__input,children:Object(v.jsx)(S.a.TextArea,{placeholder:"type here...",bordered:!1,autoSize:{minRows:1,maxRows:6},name:"msg"})})}),Object(v.jsx)(d.a,{children:Object(v.jsx)(I.a,{className:A.a.form__button,loading:!1,disabled:!1,danger:void 0!==t.msg,children:"Send"})})]})})}})})},H=a(223),T=a(35),y=a(7),G="planktonics_chat/business_chat/MESSAGES_CHANGED",P="planktonics_chat/business_chat/MESSAGE_ADDED",F="planktonics_chat/business_chat/MESSAGE_DELETED",U="planktonics_chat/business_chat/MESSAGE_CHANGED",R={messages:[{id:Object(H.a)(),message:"Hi everyone",userName:"John",userId:Object(H.a)(),date:new Date(Date.now())},{id:Object(H.a)(),message:"Is it a flood chat?",userName:"John",userId:Object(H.a)(),date:new Date(Date.now())},{id:Object(H.a)(),message:"Hi, no",userName:"Peter",userId:Object(H.a)(),date:new Date(Date.now()+1e4)}]},z=function(e,t){return Object(y.a)(Object(y.a)({},e),{},{messages:Object(T.a)(t)})},B=function(e,t,a){var s=e.messages.map((function(e){return e.id===a&&(e.message=t),e}));return Object(y.a)(Object(y.a)({},e),{},{messages:Object(T.a)(s)})},V=function(e,t){var a=e.messages.filter((function(e){return e.id!==t}));return Object(y.a)(Object(y.a)({},e),{},{messages:Object(T.a)(a)})},L=function(e,t){return Object(y.a)(Object(y.a)({},e),{},{messages:[].concat(Object(T.a)(e.messages),[t])})},J=function(e){return{type:P,newMessage:e}},W=function(e){return{type:F,messageId:e}},X=function(e,t){return{type:U,messageText:e,messageId:t}},q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case G:return z(e,t.newMessages);case P:return L(e,t.newMessage);case F:return V(e,t.messageId);case U:return B(e,t.messageText,t.messageId);default:return e}},Q=a(81),Z=a.n(Q),K=a(221),Y=function(){var e=Object(u.c)(j),t=Object(u.c)(O),a=Object(u.c)(g),s=Object(u.b)();return Object(v.jsxs)("div",{children:[Object(v.jsx)("h2",{className:Z.a.chat__header,children:"Business Chat"}),Object(v.jsx)(w,{messages:e,deleteMessage:function(e){s(W(e))},editMessage:function(e,t){s(X(e,t))}}),Object(v.jsx)(K.a,{}),Object(v.jsx)(k,{sendMessage:function(e,n){var c=n.resetForm;if(t&&a){var r={userName:t,message:e.msg,userId:a,date:new Date(Date.now()),id:Object(H.a)()};s(J(r)),c({})}}})]})},$=a(51),ee=a(48),te=a.n(ee),ae=function(){return Object(v.jsxs)("header",{className:te.a.header,children:[Object(v.jsx)("h1",{className:te.a.header__title,children:"Planktonics Chat"}),Object(v.jsx)("div",{className:te.a.header__navbar,children:Object(v.jsxs)(_.a,{children:[Object(v.jsx)(d.a,{className:te.a.header__communication,flex:1,children:Object(v.jsx)($.b,{activeClassName:te.a.active,to:"/chat/communication",children:Object(v.jsx)("b",{children:"Communication chat"})})}),Object(v.jsx)(d.a,{className:te.a.header__business,flex:1,children:Object(v.jsx)($.b,{activeClassName:te.a.active,to:"/chat/business",children:Object(v.jsx)("b",{children:"Business chat"})})})]})})]})},se=function(e){return e.communicationChat.messages},ne="planktonics_chat/communication_chat/MESSAGES_CHANGED",ce="planktonics_chat/communication_chat/MESSAGE_ADDED",re="planktonics_chat/communication_chat/MESSAGE_DELETED",ie="planktonics_chat/communication_chat/MESSAGE_CHANGED",ue={messages:[{id:Object(H.a)(),message:"Hello",userName:"Peter",userId:Object(H.a)(),date:new Date(Date.now())},{id:Object(H.a)(),message:"Hi",userName:"Mark",userId:Object(H.a)(),date:new Date(Date.now()+1e4)},{id:Object(H.a)(),message:"Nice",userName:"Peter",userId:Object(H.a)(),date:new Date(Date.now()+1e4)}]},je=function(e,t){return Object(y.a)(Object(y.a)({},e),{},{messages:Object(T.a)(t)})},oe=function(e,t,a){var s=e.messages.map((function(e){return e.id===a&&(e.message=t),e}));return Object(y.a)(Object(y.a)({},e),{},{messages:Object(T.a)(s)})},_e=function(e,t){var a=e.messages.filter((function(e){return e.id!==t}));return Object(y.a)(Object(y.a)({},e),{},{messages:Object(T.a)(a)})},de=function(e,t){return Object(y.a)(Object(y.a)({},e),{},{messages:[].concat(Object(T.a)(e.messages),[t])})},he=function(e){return{type:ce,newMessage:e}},be=function(e){return{type:re,messageId:e}},me=function(e,t){return{type:ie,messageText:e,messageId:t}},le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ne:return je(e,t.newMessages);case ce:return de(e,t.newMessage);case re:return _e(e,t.messageId);case ie:return oe(e,t.messageText,t.messageId);default:return e}},Oe=function(){var e=Object(u.c)(se),t=Object(u.c)(O),a=Object(u.c)(g),s=Object(u.b)();return Object(v.jsxs)("div",{children:[Object(v.jsx)("h2",{className:Z.a.chat__header,children:"Communication Chat"}),Object(v.jsx)(w,{messages:e,editMessage:function(e,t){s(me(e,t))},deleteMessage:function(e){s(be(e))}}),Object(v.jsx)(K.a,{}),Object(v.jsx)(k,{sendMessage:function(e,n){var c=n.resetForm;if(t&&a){var r={userName:t,message:e.msg,userId:a,date:new Date(Date.now()),id:Object(H.a)()};s(he(r)),c({})}}})]})},ge=a(222),fe="planktonics_chat/auth/USER_NAME_CHANGED",xe="planktonics_chat/auth/USER_ID_CHANGED",pe="planktonics_chat/auth/IS_AUTH_SWITCHED",ve={userName:null,userId:null,isAuth:!1},Ne=function(e,t){return Object(y.a)(Object(y.a)({},e),{},{userName:t})},Me=function(e,t){return Object(y.a)(Object(y.a)({},e),{},{userId:t})},Ee=function(e,t){return Object(y.a)(Object(y.a)({},e),{},{isAuth:t})},we=function(e){return{type:fe,newUserName:e}},De=function(e){return{type:xe,newUserId:e}},Se=function(e){return{type:pe,toggleVal:e}},Ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ve,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case fe:return Ne(e,t.newUserName);case xe:return Me(e,t.newUserId);case pe:return Ee(e,t.toggleVal);default:return e}},Ce=a(49),Ae=a.n(Ce),ke=function(){var e=Object(u.b)(),t=Object(u.c)(f),a=Object(s.useState)(""),n=Object(o.a)(a,2),c=n[0],r=n[1];if(t)return Object(v.jsx)(i.a,{to:"/chat"});return Object(v.jsx)("div",{className:Ae.a.auth,children:Object(v.jsxs)("div",{className:Ae.a.auth__content,children:[Object(v.jsx)("h2",{className:Ae.a.auth__header,children:"Planktonics Chat"}),Object(v.jsx)("p",{className:Ae.a.auth__text,children:"Welcome in Planktonics Chat!"}),Object(v.jsxs)("p",{className:Ae.a.auth__text,children:["Enter your name, please",Object(v.jsx)(ge.a,{className:Ae.a.auth__input,value:c,onChange:function(e){return r(e.target.value)}})]}),Object(v.jsx)("div",{className:Ae.a.auth__button,children:Object(v.jsx)(b.a,{onClick:function(){c.length>0&&(e(we(c)),e(De(Object(H.a)())),e(Se(!0)))},children:"Submit"})})]})})},He=function(){return Object(u.c)(f)?Object(v.jsxs)("div",{className:"app",children:[Object(v.jsx)(ae,{}),Object(v.jsxs)(i.d,{children:[Object(v.jsx)(i.b,{exact:!0,path:"/chat/",render:function(){return Object(v.jsx)(i.a,{to:"/chat/business"})}}),Object(v.jsx)(i.b,{path:"/chat/business",render:function(){return Object(v.jsx)(Y,{})}}),Object(v.jsx)(i.b,{path:"/chat/communication",render:function(){return Object(v.jsx)(Oe,{})}})]})]}):Object(v.jsx)(i.a,{to:"/auth"})},Te=function(){return Object(v.jsx)("div",{children:Object(v.jsxs)(i.d,{children:[Object(v.jsx)(i.b,{exact:!0,path:"/",render:function(){return Object(v.jsx)(i.a,{to:"/chat"})}}),Object(v.jsx)(i.b,{path:"/chat",render:function(){return Object(v.jsx)(He,{})}}),Object(v.jsx)(i.b,{path:"/auth",render:function(){return Object(v.jsx)(ke,{})}}),Object(v.jsx)(i.b,{path:"*",render:function(){return Object(v.jsx)("div",{children:"404 NOT FOUND"})}})]})})},ye=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,228)).then((function(t){var a=t.getCLS,s=t.getFID,n=t.getFCP,c=t.getLCP,r=t.getTTFB;a(e),s(e),n(e),c(e),r(e)}))},Ge=a(67),Pe=a(130),Fe=Object(Ge.b)({businessChat:q,communicationChat:le,auth:Ie}),Ue=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Ge.c,Re=Object(Ge.d)(Fe,Ue(Object(Ge.a)(Pe.a)));r.a.render(Object(v.jsx)(n.a.StrictMode,{children:Object(v.jsx)($.a,{children:Object(v.jsx)(u.a,{store:Re,children:Object(v.jsx)(Te,{})})})}),document.getElementById("root")),ye()},48:function(e,t,a){e.exports={header:"Header_header__3CT1B",header__title:"Header_header__title__2g0cu",header__navbar:"Header_header__navbar__2_wDA",header__business:"Header_header__business__11zhU",active:"Header_active__1gSZr",header__communication:"Header_header__communication__3fD4b"}},49:function(e,t,a){e.exports={auth:"Auth_auth__3prNp",auth__content:"Auth_auth__content__3Cqce",auth__header:"Auth_auth__header__1nCiC",auth__text:"Auth_auth__text__bdP9A",auth__input:"Auth_auth__input__3QAU0",auth__button:"Auth_auth__button__PMHwt"}},54:function(e,t,a){e.exports={message:"MessageItem_message__oimgR",message__username:"MessageItem_message__username__me4hk",message__text:"MessageItem_message__text__2tfIF",message__time:"MessageItem_message__time__30ezP",message__edit:"MessageItem_message__edit__xW7-k",message__textarea:"MessageItem_message__textarea__2XdRc"}},81:function(e,t,a){e.exports={chat:"Chat_chat__3S4iI",chat__header:"Chat_chat__header__25GX4"}},84:function(e,t,a){e.exports={form:"AddMessageForm_form__2AB6t",form__input:"AddMessageForm_form__input__1BWVO",form__button:"AddMessageForm_form__button__3pbOl"}}},[[216,1,2]]]);
//# sourceMappingURL=main.e862c2c4.chunk.js.map